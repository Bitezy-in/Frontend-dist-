import{r as o,d as N,u as y,j as e,b as j,a as m,e as a,f as w,L as v}from"./index-CGAI1unE.js";import{O as S,P}from"./OTPVerification-Bo0YXMxk.js";const C=()=>{const[r,l]=o.useState({mobileNumber:"",name:"",email:""}),[c,n]=o.useState(!1),[u,d]=o.useState(!1),g=N(),i=t=>{const{name:s,value:p}=t.target;l({...r,[s]:p})},h=y(),x=t=>{l({...r,mobileNumber:t})},b=async t=>{t.preventDefault(),n(!0);try{const{data:s}=await m.post("/auth/register",{...r,mobileNumber:r.mobileNumber.slice(-10)});s.success?(a.success(s.message),d(!0)):a.error(s.error||"Something went wrong")}catch(s){a.error(s.response.data.message)}finally{n(!1)}},f=async t=>{n(!0);try{const{data:s}=await m.post("/auth/verify-otp-register",{mobileNumber:r.mobileNumber.slice(-10),otp:t});s.success?(a.success(s.message),h(w(s==null?void 0:s.user)),g("/")):a.error(s.error||"Something went wrong")}catch(s){a.error(s.response.data.message)}finally{n(!1)}};return c?e.jsx(j,{}):e.jsx(e.Fragment,{children:u?e.jsx(S,{onOTPVerify:f}):e.jsx("div",{className:"mt-5 mb-5 flex justify-center items-center min-h-screen bg-gray-100",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-orange-500",children:"Sign Up"}),e.jsxs("form",{className:"mt-6 space-y-4",onSubmit:b,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:i,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter Name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Mobile Number"}),e.jsx(P,{country:"in",value:r.mobileNumber,onChange:x,inputProps:{name:"mobileNumber",required:!0,autoFocus:!1,placeholder:"Enter your Mobile Number"},inputClass:"!w-full !py-5 !text-md"})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:i,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"w-full flex gap-1 items-center justify-center bg-orange-500 text-white py-2 rounded-md hover:bg-orange-600 transition-colors",children:"Sign Up"})})]}),e.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["Already have an account?"," ",e.jsx(v,{to:"/login",className:"text-orange-500 hover:underline",children:"Login"})]})]})})})},F=()=>e.jsx(C,{});export{F as default};
